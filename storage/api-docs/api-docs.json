{
    "openapi": "3.0.0",
    "info": {
        "title": "Payment Service API",
        "description": "API for Payment service project",
        "version": "1.0.0"
    },
    "paths": {
        "/api/v1/invoice/{transaction_id}": {
            "get": {
                "tags": [
                    "Payment API"
                ],
                "description": "download the invoice file according to transaction_id",
                "operationId": "App\\Http\\Controllers\\API\\V1\\InvoiceController::fetch",
                "parameters": [
                    {
                        "name": "transaction_id",
                        "in": "path",
                        "description": "the transaction_id",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "DEVELOPMENT20210414-dzALG2be-0000000055"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "return invoice pdf",
                        "content": {
                            "application/pdf": {}
                        }
                    },
                    "400": {
                        "description": "Error: bad request"
                    },
                    "404": {
                        "description": "not found"
                    }
                }
            }
        },
        "/api/v1/transaction/{fg_id}": {
            "get": {
                "tags": [
                    "Payment API"
                ],
                "description": "get the transaction details according to fg_id",
                "operationId": "App\\Http\\Controllers\\API\\V1\\TransactionController::fetch",
                "parameters": [
                    {
                        "name": "fg_id",
                        "in": "path",
                        "description": "the tlsconnect fg_id",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": "10000"
                        }
                    },
                    {
                        "name": "order",
                        "in": "query",
                        "description": "desc or asc",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": ""
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "get the transaction information",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "400": {
                        "description": "Error: bad request"
                    },
                    "404": {
                        "description": "transaction not found"
                    }
                }
            }
        },
        "/api/v1/transaction": {
            "post": {
                "tags": [
                    "Payment API"
                ],
                "description": "create a new transaction",
                "operationId": "App\\Http\\Controllers\\API\\V1\\TransactionController::create",
                "parameters": [
                    {
                        "name": "fg_id",
                        "in": "query",
                        "description": "tlsconnect fg_id",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": "10000"
                        }
                    },
                    {
                        "name": "client",
                        "in": "query",
                        "description": "the client id",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "be"
                        }
                    },
                    {
                        "name": "issuer",
                        "in": "query",
                        "description": "the issuer tab",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "dzALG2be"
                        }
                    },
                    {
                        "name": "currency",
                        "in": "query",
                        "description": "the payment currency for this transaction",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "MAD"
                        }
                    },
                    {
                        "name": "redirect_url",
                        "in": "query",
                        "description": "the tlsconnect website redirection url",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "onSuccess_tlsweb_url?lang=fr-fr"
                        }
                    },
                    {
                        "name": "onerror_url",
                        "in": "query",
                        "description": "the tlsconnect website error url",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "onError_tlsweb_url?lang=fr-fr"
                        }
                    },
                    {
                        "name": "reminder_url",
                        "in": "query",
                        "description": "the tlsconnect website reminder url",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "callback_to_send_reminder?lang=fr-fr"
                        }
                    },
                    {
                        "name": "callback_url",
                        "in": "query",
                        "description": "the tlsconnect website callback url",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "receipt_url/{fg_id}?lang=fr-fr"
                        }
                    },
                    {
                        "name": "workflow",
                        "in": "query",
                        "description": "workflow",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "postal"
                        }
                    },
                    {
                        "name": "items",
                        "in": "query",
                        "description": "transaction items. ",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": ""
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "transaction created",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "400": {
                        "description": "Error: bad request"
                    }
                }
            }
        }
    }
}